!function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=24)}([function(e,t,i){e.exports=i.p+"assets/icon/fireball_icon.png"},function(e,t,i){e.exports=i.p+"assets/particles/flares_tex.png"},function(e,t,i){e.exports=i.p+"assets/particles/flares_tex.json"},function(e,t,i){var s=i(23);function a(e,t,i,s,a){var n=r.apply(this,arguments);return e.addEventListener(i,n,a),{destroy:function(){e.removeEventListener(i,n,a)}}}function r(e,t,i,a){return function(i){i.delegateTarget=s(i.target,t),i.delegateTarget&&a.call(e,i)}}e.exports=function(e,t,i,s,r){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof i?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return a(e,t,i,s,r)})))}},function(e,t,i){e.exports=i.p+"assets/tiles/dark_tiles.png"},function(e){e.exports=JSON.parse('{"compressionlevel":-1,"editorsettings":{"export":{"target":"."}},"height":32,"infinite":false,"layers":[{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483650,2147483649,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,10,10,10,10,10,10,10,10,10,10,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,21,10,10,10,10,20,18,18,18,18,21,10,2147483658,2147483658,2147483669,2147483666,2147483666,2147483666,2147483666,2147483668,2147483658,2147483658,2147483658,2147483658,2147483669,2147483665,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,21,10,10,20,19,0,0,0,0,17,21,10,20,19,0,0,0,0,2147483667,21,10,2147483658,2147483669,2147483665,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,10,11,0,0,0,0,0,0,9,10,11,0,0,0,0,0,0,9,10,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":32,"id":1,"name":"arch","opacity":1,"type":"tilelayer","visible":true,"width":42,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27],"height":32,"id":3,"name":"ground","opacity":1,"type":"tilelayer","visible":true,"width":42,"x":0,"y":0},{"draworder":"topdown","id":2,"name":"collision","objects":[{"height":0,"id":2,"name":"","polyline":[{"x":16,"y":0},{"x":846.667,"y":0}],"rotation":0,"type":"","visible":true,"width":0,"x":129,"y":694},{"height":0,"id":3,"name":"","polyline":[{"x":-492.5,"y":426},{"x":822.334,"y":426}],"rotation":0,"type":"","visible":true,"width":0,"x":508,"y":582.667}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":4,"name":"player","objects":[{"height":0,"id":4,"name":"player_spawn","point":true,"properties":[{"name":"id","type":"int","value":1}],"rotation":0,"type":"","visible":true,"width":0,"x":192,"y":640},{"height":0,"id":40,"name":"player_spawn_0","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":1235.33333333333,"y":939.333333333333}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":9,"name":"passage","objects":[{"height":122.667,"id":41,"name":"passage_0","properties":[{"name":"map","type":"string","value":"temple1"},{"name":"spawn","type":"string","value":"player_spawn_0"}],"rotation":0,"type":"","visible":true,"width":62,"x":1303,"y":901.999833333333}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":6,"name":"npc","objects":[{"height":0,"id":35,"name":"ghost_spawn_0","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":544,"y":642.666666666667},{"height":0,"id":36,"name":"ghost_spawn_1","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":414.666666666667,"y":949.333333333333},{"height":0,"id":37,"name":"ghost_spawn_2","point":true,"rotation":0,"type":"","visible":true,"width":0,"x":864.666666666667,"y":946.666666666667}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0}],"nextlayerid":10,"nextobjectid":42,"orientation":"orthogonal","renderorder":"right-down","tiledversion":"1.3.4","tileheight":32,"tilesets":[{"columns":8,"firstgid":1,"image":"../tiles/dark_tiles.png","imageheight":199,"imagewidth":265,"margin":1,"name":"dark_tiles","spacing":1,"tilecount":48,"tileheight":32,"tilewidth":32}],"tilewidth":32,"type":"map","version":1.2,"width":42}')},function(e,t,i){e.exports=i.p+"assets/girl/girl_tex.png"},function(e,t,i){e.exports=i.p+"assets/girl/girl_tex.json"},function(e,t,i){e.exports=i.p+"assets/girl/girl_ske.dbbin"},function(e,t,i){e.exports=i.p+"assets/ghost/ghost_tex.png"},function(e,t,i){e.exports=i.p+"assets/ghost/ghost_tex.json"},function(e,t,i){e.exports=i.p+"assets/ghost/ghost_ske.dbbin"},function(e,t,i){e.exports=i.p+"assets/gems/gems_tex.png"},function(e,t,i){e.exports=i.p+"assets/gems/gems_tex.json"},function(e,t,i){e.exports=i.p+"assets/particles/particles0_tex.png"},function(e,t,i){e.exports=i.p+"assets/particles/particles0_tex.json"},function(e,t,i){e.exports=i.p+"lib/phaser.js"},function(e,t,i){e.exports=i.p+"lib/dragonBones.js"},function(e,t,i){var s=i(19),a=i(20);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};s(a,r);e.exports=a.locals||{}},function(e,t,i){"use strict";var s,a=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},r=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),n=[];function o(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function c(e,t){for(var i={},s=[],a=0;a<e.length;a++){var r=e[a],c=t.base?r[0]+t.base:r[0],l=i[c]||0,h="".concat(c," ").concat(l);i[c]=l+1;var u=o(h),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(n[u].references++,n[u].updater(p)):n.push({identifier:h,updater:m(p,t),references:1}),s.push(h)}return s}function l(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var a=i.nc;a&&(s.nonce=a)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function p(e,t,i,s){var a=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var r=document.createTextNode(a),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r)}}function d(e,t,i){var s=i.css,a=i.media,r=i.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var y=null,f=0;function m(e,t){var i,s,a;if(t.singleton){var r=f++;i=y||(y=l(t)),s=p.bind(null,i,r,!1),a=p.bind(null,i,r,!0)}else i=l(t),s=d.bind(null,i,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var i=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var a=o(i[s]);n[a].references--}for(var r=c(e,t),l=0;l<i.length;l++){var h=o(i[l]);0===n[h].references&&(n[h].updater(),n.splice(h,1))}i=r}}}},function(e,t,i){(t=i(21)(!1)).push([e.i,"canvas,html,body{background-color:black;overflow:hidden}canvas{display:block;margin:0 auto}.hotkeyBarContainer{display:flex;justify-content:center}.hotkeyBarContainer .hotkeyBar{padding-inline-start:0px;list-style-type:none;width:auto;display:flex;pointer-events:all;position:absolute;margin:0;top:var(--draggable-element-top-px);left:var(--draggable-element-left-px)}.hotkeyBarContainer .hotkeyBar.draggable li{pointer-events:none}.hotkeyBarContainer .hotkeyBar li{margin:0 2px;border:1px solid gray;width:32px;height:32px;background-image:var(--hotkey-icon-bg-img)}.hotkeyBarContainer .hotkeyBar li::before{content:attr(data-id);color:white;margin-left:2px;text-shadow:1px 1px black}.log{height:128px;width:400px;margin-block-end:0;margin-block-start:0;padding-inline-start:0;bottom:5px;left:5px;position:fixed;overflow-y:scroll;pointer-events:all;background:rgba(0,0,0,0.5)}.log li{padding-left:2px;padding-top:2px;color:white;font-size:13px;text-shadow:1px 1px black}.uiLayer{position:absolute;top:0;height:100vh;width:100vw;pointer-events:none;font-family:helvetica}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var a=(n=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),r=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(r).concat([a]).join("\n")}var n,o,c;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,s){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(s)for(var r=0;r<this.length;r++){var n=this[r][0];null!=n&&(a[n]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);s&&a[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},function(e,t){class i extends Phaser.Events.EventEmitter{constructor(){super(),this.isDebug=!0}emit(e,t){super.emit(e,t),this.isDebug&&console.log(e)}listen(e,t){super.addListener(e,t)}}window.$G=new i},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,i){"use strict";i.r(t);i(16),i(17),i(18),i(22);var s=new class{findObjectLayerByName(e,t){return e.objects.find(e=>e.name===t)}findObjectsByName(e,t){let i=new Array;return e.objects.forEach(e=>{e.name===t&&i.push(e)}),i}},a=i(4),r=i.n(a),n=i(5);var o=new class{_calculatePosition(e){const t=e.polyline[1].x<0,i=e.polyline[1].y<0;let s;return s=t?[e.x+e.polyline[1].x,e.y+e.polyline[0].y]:i?[e.x+e.polyline[0].x,e.y+e.polyline[1].y]:[e.x+e.polyline[0].x,e.y+e.polyline[0].y],s}_calculateDimension(e,t=5,i=5){return e.polyline[0].y===e.polyline[1].y?t=e.x+e.polyline[1].x-(e.x+e.polyline[0].x):i=e.y+e.polyline[1].y-(e.y+e.polyline[0].y),[Math.abs(t),Math.abs(i)]}_createWall(e){const t=this._calculatePosition(e),i=this._calculateDimension(e),s=this.invisibleWalls.create(...t).setOrigin(0,0);s.setDisplaySize(...i),s.refreshBody()}create(e,t,i=!0){return this.invisibleWalls=e.physics.add.staticGroup(),t.objects.forEach(e=>this._createWall(e)),i&&this.invisibleWalls.toggleVisible(),this.invisibleWalls}};var c=class{constructor(e){this.config=e}preload(){this.config.scene.load.dragonbone(this.config.skin.armature.name,this.config.skin.armature.texPng,this.config.skin.armature.texJson,this.config.skin.armature.skeDbbin,null,null,{responseType:"arraybuffer"})}_scaleArmature(){this.armatureDisplay.scaleX=this.config.scale,this.armatureDisplay.scaleY=this.config.scale}create(){return this.armatureDisplay=this.config.scene.add.armature(this.config.skin.armature.name,this.config.skin.armature.name),this._scaleArmature(),this.armatureDisplay}};var l=new class{create(e){return new c(e)}};var h=class{constructor(e,t){this.position=e,this.effect=t,this._createZone(),this._createPhysics()}_createZone(){this.explosionZone=this.effect.scene.add.zone(this.position.x,this.position.y,this.effect.config.physicConfiguration.explosion.width,this.effect.config.physicConfiguration.explosion.height)}_createPhysics(){this.effect.scene.physics.world.enable(this.explosionZone,0),this.explosionZone.body.setAllowGravity(!1),this.explosionZone.bodymoves=!1,this.explosionOverlap=this.effect.scene.physics.add.overlap(this.effect.scene.charactersOverlapArr,this.explosionZone,()=>this._onExplosionHit())}_onExplosionHit(){console.log("test"),this.explosionZone.destroy(),this.explosionOverlap.destroy()}};var u=class{constructor(e){this.scene=e.scene,this.particles=this.scene.add.particles(e.atlasName),this.emitter=this.particles.createEmitter(e.emitterConfiguration),this.config=e}_setupContainerPhysics(){this.scene.physics.world.enable(this.container),this.container.body.allowGravity=!1,this.container.body.allowDrag=!1}_setupContainerDimensions(){this.container.body.setSize(this.config.physicConfiguration.width,this.config.physicConfiguration.height),this.container.body.offset.set(this.config.physicConfiguration.offsetX,this.config.physicConfiguration.offsetY)}create(e){this.originPos=e,this.container=this.scene.add.container(this.originPos.x,this.originPos.y),this.container.add(this.particles),this.container.setPosition(this.originPos.x,this.originPos.y),this.config.physicConfiguration&&(this._setupContainerPhysics(),this._setupContainerDimensions())}};var p=class extends u{create(e){super.create(e),this.emitter.explode()}};var d=class{constructor(e){this.target=e}_createExplosion(e){const t=this.target.armatureDisplay.body.center;new p;new h(t,e)}handleAfterEffect(e){e.config.isAoE&&this._createExplosion(e)}};var y=class{constructor(e){this.target=e,this.afterEffectManager=new d(this.target)}applyEffect(e,t){$G.emit("EffectManager::appliedEffect",{user:e,effect:t,target:this.target}),this.afterEffectManager.handleAfterEffect(t)}};class f extends Phaser.GameObjects.GameObject{constructor(e){super(e.scene),this.config=e,this.effectManager=new y(this)}_calculateDimensions(){this.width=this.armatureDisplay.armature.armatureData.canvas.width,this.height=this.armatureDisplay.armature.armatureData.canvas.height,this.offsetX=-this.width/2,this.offsetY=-this.height}_setDimensions(){this.armatureDisplay.body.setSize(this.width,this.height),this.armatureDisplay.body.offset.set(this.offsetX,this.offsetY)}_createInteractiveZone(){const e=this.offsetY/2;this.interactiveZone=this.config.scene.add.zone(0,e,this.width,this.height),this.interactiveZone.setName("interactiveZone"),this.interactiveZone.setInteractive(),this.armatureDisplay.add(this.interactiveZone)}_setSpawn(e){this.armatureDisplay.x=e[0].x,this.armatureDisplay.y=e[0].y}applyEffect(e,t){this.effectManager.applyEffect(e,t)}_focusObject(e,t,i,s){this.config.scene.marker.set(this),s.stopPropagation()}_setEvents(){this.interactiveZone.on("pointerdown",this._focusObject,this)}_createArmatureDisplay(){const e=this.armature.create();this.armatureDisplay=this.config.scene.physics.add.existing(e)}preload(){this.armature=l.create(this.config),this.armature.preload()}getSpellOriginPos(){const e=this.armatureDisplay.list[this.config.skin.spellOriginSlotNumber].x,t=this.armatureDisplay.list[this.config.skin.spellOriginSlotNumber].y,i=e*this.armatureDisplay.scaleX,s=t*this.armatureDisplay.scaleY,a=this.armatureDisplay.x+i,r=this.armatureDisplay.y+s;return new Phaser.Math.Vector2(a,r)}create(e){this._createArmatureDisplay(),this._calculateDimensions(),this._setDimensions(),this._createInteractiveZone(),this._setSpawn(e),this._setEvents()}}var m=f;var g=class{constructor(e,t,i){this.user=e,this.target=t,this.effect=i}_initParameters(){this.originPos=this.user.getSpellOriginPos(),this.targetPos=this.target.armatureDisplay.body.center,this.rotation=this._calculateProjectileRotation()}_calculateAngleBetweenOriginAndTarget(){return Phaser.Math.Angle.Between(this.originPos.x,this.originPos.y,this.targetPos.x,this.targetPos.y)}_calculateProjectileRotation(){const e=this._calculateAngleBetweenOriginAndTarget();return this.effect.config.physicConfiguration.rotationOffset+e}_setupEffect(){this.effect.create(this.originPos),this.effect.container.setRotation(this.rotation)}_onProjectileHitTarget(){this.target.applyEffect(this.user,this.effect),this.effect.container.destroy()}_setOverlapTarget(){this.effect.scene.physics.add.overlap(this.target.armatureDisplay,this.effect.container,()=>this._onProjectileHitTarget(),null,this.effect.scene)}_onReadyToLaunch(){this._initParameters(),this._setupEffect(),this._setOverlapTarget(),this.effect.scene.physics.moveToObject(this.effect.container,this.targetPos,this.effect.config.physicConfiguration.speed)}launch(){setTimeout(()=>this._onReadyToLaunch(),this.effect.config.physicConfiguration.launchTimeOffset)}};var b=class extends u{create(e){super.create(e),this.emitter.start()}};var _=new class{_getAnimationDuration(e){const t=e.user.armatureDisplay.armature.animation.animations[e.animationName].duration;return Math.floor(1e3*t)}_throw(e){const t=new b(e),i=new g(e.user,e.target,t),s=this._getAnimationDuration(e);i.launch(),e.user.config.skin.throwSpell(e.user.armatureDisplay),setTimeout(()=>e.user.isNotIdleAnimationBlocked=!0,s)}use(e){e.target&&this._throw(e)}};var v=new class{use(e){e.user.isNotIdleAnimationBlocked=!1,e.isSpell?_.use(e):e.isRanged||e.isMeele}};var x=new class{create(e){this.player=e,this.player.isNotIdleAnimationBlocked=!0,this._setMovementKeys(),this._setNumberKeys(),this._setEvents()}_setMovementKeys(){this.upKey=this.player.config.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),this.player.config.scene.input.keyboard.addKeys({up:Phaser.Input.Keyboard.KeyCodes.W,left:Phaser.Input.Keyboard.KeyCodes.A,right:Phaser.Input.Keyboard.KeyCodes.D})}_setNumberKeys(){this.hotkeyBarKeyEventNames=["keydown-ONE","keydown-TWO","keydown-THREE","keydown-FOUR","keydown-FIVE","keydown-SIX","keydown-SEVEN","keydown-EIGHT","keydown-NINE","keydown-ZERO"]}_onHotkeyDown(e){const t={id:String.fromCharCode(e.keyCode)};this._useAbility(t)}_setHotkeyEvents(){for(let e of this.hotkeyBarKeyEventNames)this.player.config.scene.input.keyboard.on(e,e=>this._onHotkeyDown(e),!1)}_useAbilityOnFocusedObject(e){const t=$G.hotkeys.keys[e.id];v.use({user:this.player,target:this.player.config.scene.focusedGameObject,...t})}_useAbilityOnCursorPosition(){}_useAbility(e){if(this.player.isNotMoving){this.player.config.scene.focusedGameObject?this._useAbilityOnFocusedObject(e):this._useAbilityOnCursorPosition()}}_jump(){this.player.armatureDisplay.body.touching.down&&this.player.jump()}_setEvents(){this.upKey.on("down",()=>this._jump()),this._setHotkeyEvents(),$G.listen("HotkeyBar::ClickedHotkey",e=>this._useAbility(e))}update(e){e.isNotMoving=!(e.cursors.right.isDown||e.cursors.left.isDown||e.cursors.up.isDown)&&e.armatureDisplay.body.touching.down,e.isIdle=e.isNotIdleAnimationBlocked&&e.isNotMoving,e.isIdle?e._idle():e.cursors.right.isDown?e._run(e.config.runVelocity,!1):e.cursors.left.isDown&&e._run(-e.config.runVelocity,!0)}};var w=class extends m{constructor(e){super(e),this.abilities=[]}_run(e,t){this.config.skin.run(this.armatureDisplay,e,t)}_idle(){this.config.skin.idle(this.armatureDisplay)}jump(){this.armatureDisplay.body.setVelocityY(-this.config.jumpVelocity)}preload(){super.preload(),this.cursors=this.config.scene.input.keyboard.createCursorKeys()}create(e){super.create(e),this.armatureDisplay.body.collideWorldBounds=!0,x.create(this)}update(){x.update(this)}};var k=new class{create(e){return new w(e)}};var D=class extends m{constructor(e){super(e)}preload(){super.preload()}create(e){super.create(e),this.config.skin.create(this.armatureDisplay)}_run(e){this.config.skin.run(this.armatureDisplay,e,this.flipX)}patrol(){setInterval(()=>{this.flipX?(this._run(-160),this.flipX=!1):(this._run(160),this.flipX=!0)},2e3)}};var E=new class{create(e){return new D(e)}},O=i(6),P=i.n(O),C=i(7),j=i.n(C),M=i(8),B=i.n(M);var A=class{run(e,t,i){e.body.setVelocityX(t),e.armature.flipX=i}idle(e){e.body.setVelocityX(0)}playAnimation(e,t){e.animation.lastAnimationName!==t&&e.armature.animation.play(t)}playAnimationOnce(e,t){e.animation.lastAnimationName!==t&&e.armature.animation.play(t,1)}};var L=new class extends A{constructor(){super(),this.armature={name:"girl",texPng:P.a,texJson:j.a,skeDbbin:B.a},this.spellOriginSlotNumber=24}idle(e){super.idle(e),super.playAnimation(e,"idle_0")}throwSpell(e){super.playAnimationOnce(e,"cast_0")}run(e,t,i){super.run(e,t,i),super.playAnimation(e,"run_0")}},N=i(9),T=i.n(N),S=i(10),H=i.n(S),I=i(11),G=i.n(I);var R=new class extends A{constructor(){super(),this.armature={name:"ghost",texPng:T.a,texJson:H.a,skeDbbin:G.a}}_createPhysics(e){e.body.setBounce(0),e.body.collideWorldBounds=!0}run(e,t,i){super.run(e,t,i),super.playAnimation("run_0")}create(e){this._createPhysics(e)}},X=i(12),K=i.n(X),V=i(13),$=i.n(V);var Z=class{constructor(e){this.scene=e}preload(){this.scene.load.atlas("gems",K.a,$.a)}create(){this.scene.anims.create({key:"prism",frames:this.scene.anims.generateFrameNames("gems",{prefix:"prism_",end:6,zeroPad:4}),repeat:-1})}_removePreviousMarker(){if(this.scene.focusedGameObject){const e=this.scene.focusedGameObject.armatureDisplay.getByName("marker");this.scene.focusedGameObject.armatureDisplay.remove(e,!0),this.scene.focusedGameObject=null}}_createNewMarker(){const e=-(this.scene.focusedGameObject.armatureDisplay.armature.armatureData.canvas.height+80),t=this.scene.add.sprite(0,e,"gems");t.setName("marker"),t.play("prism"),this.scene.focusedGameObject.armatureDisplay.add(t)}set(e){this._removePreviousMarker(),this.scene.focusedGameObject=e,this._createNewMarker()}unset(){this._removePreviousMarker()}},Y=i(1),F=i.n(Y),q=i(2),W=i.n(q),U=i(0),z=i.n(U);var J=class{constructor(e){this.emitterConfiguration={frame:"yellow",radial:!1,lifespan:1e3,speedX:{min:50,max:120},quantity:1,gravityY:0,scale:{start:.3,end:.1,ease:"Power3"},blendMode:"ADD",on:!1},this.physicConfiguration={width:20,height:20,offsetX:-10,offsetY:-8,rotationOffset:2.9,speed:150,launchTimeOffset:50},this.animationName="cast_0",this.atlasName="flares",this.id="fireball",this.name="Fireball",this.description="A well known trick among most magic users.",this.dmg=15,this.dmgType="fire",this.icon=z.a,this.isSpell=!0,this.isRanged=!0,this.scene=e}preload(){this.scene.load.atlas(this.atlasName,F.a,W.a)}},Q=i(14),ee=i.n(Q),te=i(15),ie=i.n(te);var se=class{constructor(){this.emitterConfiguration={active:!0,visible:!0,collideBottom:!0,collideLeft:!0,collideRight:!0,collideTop:!0,on:!0,particleBringToTop:!0,radial:!0,frame:{frames:["scorch_03"],cycle:!1,quantity:1},frequency:13,gravityX:150,gravityY:30,maxParticles:10,timeScale:2,blendMode:0,accelerationX:{ease:"Linear",min:0,max:10},accelerationY:{start:0,end:10,ease:"Linear"},alpha:1,angle:{min:0,max:360,ease:"Linear"},bounce:{ease:"Linear",start:0,end:""},delay:{ease:"Linear",start:"",end:""},lifespan:1e3,maxVelocityX:{ease:"Sine.easeIn",min:0,max:100},maxVelocityY:{ease:"Linear",min:0,max:100},moveToX:{ease:"Linear",min:0,max:100},moveToY:{start:0,end:100,ease:"Linear"},quantity:{ease:"Linear",min:0,max:1},rotate:0,scale:{ease:"Expo.easeIn",min:0,max:3},speed:0,x:401,y:235,tint:[16738816],emitZone:{source:new Phaser.Geom.Rectangle(0,0,50,50),type:"edge",quantity:10,stepRate:0,yoyo:!1,seamless:!1}},this.atlasName="particles"}preload(){this.scene.load.atlas(this.atlasName,ee.a,ie.a)}};var ae=class{constructor(e){this.emitterConfiguration={frame:"yellow",radial:!1,lifespan:1e3,speedX:{min:50,max:120},quantity:1,gravityY:0,scale:{start:.4,end:.2,ease:"Power3"},blendMode:"ADD",on:!1},this.physicConfiguration={width:25,height:25,offsetX:-14,offsetY:-14,rotationOffset:2.9,speed:150,launchTimeOffset:50},this.animationName="cast_0",this.atlasName="flares",this.id="exploding_fireball",this.name="Exploding Fireball",this.description="When mages get bored of regular fireballs.",this.dmg=15,this.dmgType="fire",this.icon=z.a,this.isSpell=!0,this.isRanged=!0,this.isAoE=!0,this.AoEEffect=new se,this.scene=e}preload(){this.scene.load.atlas(this.atlasName,F.a,W.a),this.AoEEffect.preload()}};class re extends Phaser.Scene{_preloadPlugins(){this.plugins.installScenePlugin("dragonBones",dragonBones.phaser.plugin.DragonBonesScenePlugin,"dragonbone",this)}_preloadAbilities(){this.abilities.fireball.preload()}_initAbilities(){this.abilities={},this.abilities.fireball=new J(this),this.abilities.explodingFireball=new ae(this)}preload(){this._initAbilities(),this._preloadAbilities(),this._preloadPlugins(),this.marker=new Z(this),this.marker.preload()}_unFocusObject(){this.marker.unset()}_setEvents(){this.input.on("pointerdown",this._unFocusObject,this)}create(){this.marker.create(),this._setEvents()}}var ne=re;var oe=class extends ne{constructor(){super("Game")}_initHotkeys(){$G.hotkeys={keys:{1:this.abilities.fireball,2:this.abilities.explodingFireball,F4:{}}}}_initCharacters(){const e={scale:.45,name:"Player",scene:this,runVelocity:160,jumpVelocity:280,skin:L},t={scale:.32,name:"Ghost",scene:this,runVelocity:160,jumpVelocity:280,skin:R};this.characters={},this.characters.player=k.create(e),this.characters.ghost=E.create(t),this.characters.ghost2=E.create(t),this.characters.ghost3=E.create(t)}_preloadCharacters(){this.characters.player.preload(),this.characters.ghost.preload(),this.characters.ghost2.preload(),this.characters.ghost3.preload()}_setAbilities(){this.characters.player.abilities.fireball=this.abilities.fireball}_createCharacters(){const e=s.findObjectLayerByName(this.map,"player"),t=s.findObjectLayerByName(this.map,"npc"),i=s.findObjectsByName(e,"player_spawn"),a=s.findObjectsByName(t,"ghost_spawn_0"),r=s.findObjectsByName(t,"ghost_spawn_1"),n=s.findObjectsByName(t,"ghost_spawn_2");this.characters.player.create(i),this.characters.ghost.create(a),this.characters.ghost2.create(r),this.characters.ghost3.create(n),this.charactersOverlapArr=[this.characters.player.armatureDisplay,this.characters.ghost.armatureDisplay,this.characters.ghost2.armatureDisplay,this.characters.ghost3.armatureDisplay],this._setAbilities()}_updateCharacters(){this.characters.player.update()}_preloadMap(){this.load.image("dark_tiles",r.a),this.load.tilemapTiledJSON("temple0",n)}_createMap(){this.map=this.add.tilemap("temple0");const e=this.map.addTilesetImage("dark_tiles","dark_tiles");this.arch=this.map.createStaticLayer("arch",e,0,0),this.ground=this.map.createStaticLayer("ground",e,0,0)}_createPhysics(){let e=s.findObjectLayerByName(this.map,"collision"),t=o.create(this,e);this.physics.world.setBounds(0,0,1344,1024),this.physics.add.collider(this.characters.player.armatureDisplay,t),this.physics.add.collider(this.characters.ghost.armatureDisplay,t),this.physics.add.collider(this.characters.ghost2.armatureDisplay,t),this.physics.add.collider(this.characters.ghost3.armatureDisplay,t)}_createCamera(){this.cameras.main.setBounds(0,0,1344,1024),this.cameras.main.zoom=2,this.cameras.main.startFollow(this.characters.player.armatureDisplay,!0,.08,.08)}preload(){super.preload(),this._initHotkeys(),this._initCharacters(),this._preloadCharacters(),this._preloadMap(),$G.emit("Game::LoadHotkeys")}create(){super.create(),this._createMap(),this._createCharacters(),this._createPhysics(),this._createCamera()}update(){this._updateCharacters()}},ce=i(3),le=i.n(ce);var he=class{constructor(){this.currentCursorPosition={x:0,y:0},this.currentTarget=null}_setCurrentCursorPosition(e){this.currentCursorPosition.x=e.clientX,this.currentCursorPosition.y=e.clientY}_unsetDraggingEvents(){document.onmousemove=null,document.onmouseup=null}_setDraggingEvents(){document.onmousemove=e=>this._dragElement(e),document.onmouseup=()=>this._unsetDraggingEvents()}_setCurrentTarget(e){this.currentTarget=e.delegateTarget}_startDragging(e){this._setCurrentTarget(e),this._setCurrentCursorPosition(e),this._setDraggingEvents()}_calculateDraggableElementPosition(e){const t=this.currentCursorPosition.x-e.clientX,i=this.currentCursorPosition.y-e.clientY;return{draggableElementLeftOffset:this.currentTarget.offsetLeft-t,draggableElementTopOffset:this.currentTarget.offsetTop-i}}_setDraggableElementPosition(e){const t=e.draggableElementTopOffset+"px",i=e.draggableElementLeftOffset+"px";this.currentTarget.style.setProperty("--draggable-element-top-px",t),this.currentTarget.style.setProperty("--draggable-element-left-px",i)}_dragElement(e){const t=this._calculateDraggableElementPosition(e);this._setDraggableElementPosition(t),this._setCurrentCursorPosition(e)}_setEvents(){le()(".draggable","mousedown",e=>this._startDragging(e))}create(){this._setEvents()}};var ue=new class{constructor(){$G.hotkeys={},this.maxKeysInNumberRow=10}_createHotkeyBarDOM(){this.hotkeyBarContainer=document.createElement("div"),this.hotkeyBar=document.createElement("ul"),this.hotkeyBarContainer.classList.add("hotkeyBarContainer"),this.hotkeyBar.dataset.id=0,this.hotkeyBar.classList.add("hotkeyBar"),this.hotkeyBarContainer.append(this.hotkeyBar),this.uiLayer.append(this.hotkeyBarContainer)}_createHotkeyListItemDOM(e){const t=document.createElement("li"),i=e===this.maxKeysInNumberRow;t.dataset.id=i?0:e,this.hotkeyBar.append(t)}_createHotkeyListInnerDOM(){for(let e=1;e<=this.maxKeysInNumberRow;e++)this._createHotkeyListItemDOM(e)}_isHotkeyValueValid(e){return"object"==typeof e&&null!==e&&Object.keys(e).length}_loadHotkeyIntoDOM(e,t){const i=`li[data-id='${e}']`,s=this.hotkeyBar.querySelector(i),a=`url(${t.icon})`;s.title=t.name,s.style.setProperty("--hotkey-icon-bg-img",a)}_loadHotkey(e){const t=e[0],i=e[1];this._isHotkeyValueValid(i)&&this._loadHotkeyIntoDOM(t,i)}_loadHotkeys(){Object.entries($G.hotkeys.keys).forEach(e=>this._loadHotkey(e))}_onHotkeyClicked(e){const t=e.delegateTarget;$G.emit("HotkeyBar::ClickedHotkey",{id:t.dataset.id})}_setEvents(){le()(this.hotkeysSelector,"click",e=>this._onHotkeyClicked(e)),$G.listen("Game::LoadHotkeys",()=>this._loadHotkeys())}_setup(){this.uiLayer=document.querySelector(".uiLayer"),this.hotkeysSelector=".hotkeyBar li"}create(){this._setup(),this._createHotkeyBarDOM(),this._createHotkeyListInnerDOM(),this._setEvents()}};var pe=new class{constructor(){this.abilityList=[{name:"fireball",icon:z.a,description:"bla bla bla, fireballs"}]}_loadAbilities(){}_createAbilityBook(){}_setup(){this.uiLayer=document.querySelector(".uiLayer")}create(){this._setup()}};var de=new class{_createLogDOM(){this.logElement=document.createElement("ul"),this.logElement.classList.add("log"),this.uiLayer.append(this.logElement)}_createMessage(e){return`[${(new Date).toLocaleTimeString()}] ${e}`}_printMessage(e){const t=`\n                <li>\n                    ${this._createMessage(e)}\n                </li>\n            `;this.logElement.insertAdjacentHTML("beforeend",t)}_printMOTD(){this._printMessage("Welcome back!")}_setEvents(){$G.listen("EffectManager::appliedEffect",e=>{const t=`${e.user.config.name} applied effect ${e.effect.config.name} on ${e.target.config.name}.`;this._printMessage(t)})}_setup(){this.uiLayer=document.querySelector(".uiLayer"),this._setEvents()}create(){this._setup(),this._createLogDOM(),this._printMOTD()}};var ye=class{constructor(){this.body=document.body}_createUILayer(){this.uiLayer=document.createElement("div"),this.uiLayer.classList.add("uiLayer"),this.body.append(this.uiLayer)}create(){this._createUILayer();const e=new he;ue.create(),pe.create(),e.create(),de.create()}};(new class{constructor(){this.initConfig()}initConfig(){this.config={type:Phaser.AUTO,physics:{default:"arcade",arcade:{gravity:{y:300},debug:$G.isDebug}},scale:{mode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH},disableContextMenu:!0,scene:[oe]}}start(){this.game=new Phaser.Game(this.config),this.ui=new ye,this.ui.create()}}).start()}]);